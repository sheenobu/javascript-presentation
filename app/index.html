<!doctype html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js"> <!--<![endif]-->
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <title></title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width">
        <!-- Place favicon.ico and apple-touch-icon.png in the root directory -->
        <link rel="stylesheet" href="styles/main.css">
        <link rel="stylesheet" href="http://yandex.st/highlightjs/7.3/styles/default.min.css">

        <!-- build:js scripts/vendor/modernizr.js -->
        <script src="bower_components/modernizr/modernizr.js"></script>
        <!-- endbuild -->
    </head>
    <body>
        <div class="reveal">
          <div class="slides">
            <section>
              <h2>Client Side Templates</h2>
              <p>What are client side templates?</p>
              <p>Templates which run within the browser. They typically output HTML which can be inserted into the page using javascript.</p>
            </section>
            <section>
             <p>
                  What can they do?:
                  <ul>
                      <li>Help decouple backend and frontend services.</li>
                      <li>Help simplify UI and AJAX code.</li>
                      <li>Reduce spaghetti code within browser scripting.</li>
                      <li>Reduce server load by offloading HTML preperation.</li>
                      <li>Take advantage of client-side resource caching.</li>
                  </ul>
              </p>
              <p>
                  What kind of drawbacks can they have?
                  <ul>
                      <li>You need AJAX with some sort of language agnostic transmission protocol (RPC, REST, SOAP).</li>
                      <li>Increase server load by adding non-HTML preperation.</li>
                      <li>Increase initial load and startup time of your web application.</li>
                      <li>Performance, Stability, and Browser support can vary between different template engines.</li>
                  </ul>
              </p>
            </section>
            <section>
            <h2>Ways to use javascript templates</h2>
            <p>Use a template engine and call template code procedurally:</p>
            <ul>
              <li>Compile Template.</li>
              <li>Build our Context.</li>
              <li>Render the template.</li>
              <li>Use template results.</li>
            </ul>
            <p>Use a larger framework which provides client-side MVVM/MVC:</p>
            <ul>
              <li>Mark up your HTML.</li>
              <li>Write a controller/viewmodel in javascript.</li>
              <li>Initialize the engine.</li>
            </ul>
            </section>
            <section>
              <h2>Compiling/Using</h2>
              <div>Simple:</div>
              <div class="embedAMD">/scripts/simple.txt</div>
              <p>With JQuery/AJAX:</p>
              <div class="embedAMD">/scripts/simple.js</div>
              <button style="font-size: 20px;" id="button-id">Click me</button>
            </section>
            <section>
               <h2>Functions and Filters</h2>
               <div>You can use tags and filters to process your data</div>
               <div class="embedAMD">/scripts/filters.js</div>
               <button style="font-size: 20px;" id="f-button-id">Click me</button>
            </section>
            <section>
               <h2>Inverted Sections</h2>
               <div>You can use ^ to invert a block, where the inside shows if it is null, undefined, false, or an empty list.</div>
               <div class="embedAMD">/scripts/inverted.txt</div>
            </section>
            <section>
              <pre><code>var myListObject = ["item1","item2","item3"];</code></pre>
              <ul>
                <li>Mustache.js, handlebars - Logic Less Templates:<br/>
                    <div class="embedAMD">/scripts/mustache.txt</div></li>
                <li>EJS and Underscore - Embedded Javascript:<br/>
                    <div class="embedAMD">/scripts/ejs.txt</div></li>
                <li>jade - DSL similar to Ruby/HAML templates.<br/>
                    <div class="embedAMD">/scripts/jade.txt</div></li>
                <li>knockoutjs, angularjs - HTML-style attributes on tags<br/>
                    <div class="embedAMD">/scripts/knockoutjs.txt</div></li>
               </ul>
            </section>
            <section>
              <h2>MVC/MVVM Libraries:</h2>
              <p>Typically a template engine paired up with other programming techniques</p>
              <ul>
                <li>emberjs: handlebars + MVC style framework</li>
                <li>knockoutjs/angularjs: custom template engine + MVVM + data binding</li>
            </section>
            <section>
              <h2>MVC/MVVM JS Architecture</h2>
              <ul>
                <li>Model: Your backend business logic code.</li>
                <li>View: HTML with embedded markup.</br>
                  <div class="embedAMD">/scripts/mvvm_view.html</div>
                </li>     
                <li>ViewModel/Controller: Code responsible for transmitting data and actions between your view and your model.<br/>
                </li>
                <li>Example:</br>
                  <input data-bind='value: firstName' />
                  <input data-bind='value: lastName' />
                  <span data-bind='text: fullName'> </span>
                  <button data-bind='click: reload'>Reload</button> 
                </li>
              </ul>
            </section>
            <section>
              <div class="embedAMD">/scripts/mvvm_view.html</div>
              <div class="embedAMD">/scripts/mvvm.js</div>
              <ul>
                  <input data-bind='value: firstName' />
                  <input data-bind='value: lastName' />
                  <span data-bind='text: fullName'> </span>
                  <button data-bind='click: reload'>Reload</button>
                </li>
              </ul>
            </section>
            <section>
              <h3>Unit Testing</h3>
              <p>Mocha - test framework and Chai - assertion library</p>
              <div class="embedAMD">/scripts/test.txt</div>
            </section>      
            <section>
              <h3>AMD/RequireJS</h3>
              <p>API and Library for providing asynchronous loading of modules.</p>
              <p>According to the specification introduction: ... "This is particularly well suited for the browser environment where synchronous loading of modules incurs performance, usability, debugging, and cross-domain access problems."</p>
              <p>This entire application is built with RequireJS!</p>
            </section>
            <section>
              <h3>AMD/RequireJS</h3>
              <div class="embedAMD">/scripts/amd.jq</div> 
              <ul class="small">
                <li>main entry point:<ul>
                        <li>another_module:<ul>
                                <li>jquery</li>
                                <li>a_new_module:<ul>
                                        <li>jquery</li>
                                        <li>mustache</li>
                                        <li>templates/myTemplate.html</li>
                                </ul></li>
                        </ul></li>
              </ul>
             </section>
             <section>
                <h3>Performance</h3>
                <p>Twitter began client side rendering in 2010, they quit in 2012, because of performance issues.</p>
        
                <ul class="small"><li><a href="http://engineering.twitter.com/2010/09/tech-behind-new-twittercom.html">http://engineering.twitter.com/2010/09/tech-behind-new-twittercom.html</a></li>
                                  <li><a href="http://engineering.twitter.com/2012/05/improving-performance-on-twittercom.html">http://engineering.twitter.com/2012/05/improving-performance-on-twittercom.html</a></li>
                </ul>
                
             </section>
             <section>
                <h3>Performance pt2</h3>
                <p>Twitter adopted asynchronous javascript loading (Similar to AMD/RequireJS).</p>
                <p>Render initial HTML payloads on the server, only do templates on progressive updates. Easier if you use a javascript template engine with a java port.(Mustache)</p>
                <p>Compile templates during your build alongside minification and concatenation.</p>
                <p>Research and verify the performance differences.</p>
                <p>Know your audience.</p>
              </section>
                <section>
                  <h3>Last thoughts?</h3>
                  <p>This Presentation: <a href="https://github.com/sheenobu/javascript-presentation">https://github.com/sheenobu/javascript-presentation</a></p>
                  <p>Built in yeoman 1.0.0-beta5 - great for playing with new javascript technology.</p> 
                </section>
          </div>
        </div> 

        <!-- build:js scripts/main.js -->
        <script data-main="scripts/main" src="bower_components/requirejs/require.js"></script>
        <!-- endbuild -->
</body>
</html>
